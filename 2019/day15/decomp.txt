
; start ---
0	value_in=input
2	RX = value_in==1
6	if RX jmp go_north
9	RX = value_in==2
13	if RX jmp go_south
16	RX = value_in==3
20	if RX jmp go_west
23	RX = value_in==4
27	if RX jmp go_east
30	end.

; go_north ---
31	next_x=0+prev_x
35	A=prev_A+0
39	next_y=prev_y+-1
43	C = prev_C==0
47	RX=-1*C
51	B=prev_B+RX
55	if 1 jmp test_borders

; go_south ---
58	next_x=0+prev_x
62	A=0+prev_A
66	next_y=prev_y+1
70	C = prev_C==0
74	B=prev_B+prev_C
78	if not 0 jmp test_borders

; go_west ---
81	next_x=prev_x+-1
85	A = prev_A==0
89	next_y=prev_y+0
93	C=prev_C+0
97	B=prev_B*1
101	if 1 jmp test_borders

; go_east ---
104	next_x=prev_x+1
108	A = prev_A==0
112	next_y=1*prev_y
116	C=0+prev_C
120	B=prev_B*1

; test_borders ---
124	if not next_x jmp out_wall
127	if not next_y jmp out_wall
130	RX = next_x==40
134	if RX jmp out_wall
137	RX = next_y==40
141	if RX jmp out_wall

; test_oxy ---
144	RX = next_x==1
148	if not RX jmp test_out1
151	RX = next_y==33
155	if not RX jmp test_out1
158	output=0+2
162	if not 0 jmp prepare_out

; test_out1 ---
165	RX=A*C
169	if not RX jmp test_out2
172	output=1+0
176	if not 0 jmp prepare_out

; test_out2 ---
179	RX=A+C
183	if not RX jmp out_wall

; compute_out ---
186	RX=B+C
190	RX=RX+-1
194	RX=RX*39
198	RX=RX+next_x
202	RX=-1+RX
206	@211=252+RX
210	output = start<43
214	if 1 jmp prepare_out

; out_wall ---
217	output=0+0
221	if not 0 jmp prepare_out

; prepare_out ---
224	if not output jmp 247
227	prev_x=next_x*1
231	prev_y=next_y*1
235	prev_A=1*A
239	prev_C=C+0
243	prev_B=0+B
247	output(output)
249	if 1 jmp start

; start_data ---
252	13
253	30
254	60
255	64
256	5
257	28
258	36
259	24
260	67
261	12
262	1
263	67
264	32
265	39
266	14
267	78
268	29
269	17
270	38
271	88
272	79
273	9
274	62
275	25
276	15
277	18
278	88
279	25
280	7
281	81
282	38
283	41
284	10
285	69
286	86
287	32
288	11
289	33
290	1
291	10
292	22
293	84
294	14
295	92
296	48
297	79
298	10
299	3
300	62
301	33
302	61
303	13
304	93
305	78
306	20
307	63
308	68
309	17
310	80
311	34
312	12
313	8
314	23
315	61
316	90
317	51
318	17
319	84
320	37
321	46
322	64
323	25
324	3
325	73
326	19
327	45
328	99
329	41
330	62
331	21
332	77
333	8
334	17
335	89
336	9
337	13
338	84
339	75
340	85
341	14
342	53
343	60
344	6
345	29
346	76
347	63
348	14
349	23
350	63
351	61
352	93
353	72
354	17
355	41
356	28
357	94
358	5
359	3
360	19
361	47
362	57
363	55
364	14
365	34
366	38
367	79
368	85
369	40
370	13
371	22
372	99
373	67
374	72
375	15
376	62
377	15
378	6
379	63
380	3
381	90
382	2
383	87
384	20
385	84
386	15
387	50
388	70
389	27
390	18
391	78
392	21
393	70
394	48
395	52
396	2
397	99
398	92
399	55
400	3
401	46
402	41
403	93
404	99
405	88
406	13
407	39
408	4
409	45
410	71
411	3
412	96
413	1
414	91
415	59
416	31
417	53
418	23
419	25
420	82
421	32
422	50
423	16
424	60
425	38
426	78
427	34
428	59
429	30
430	15
431	51
432	92
433	3
434	22
435	26
436	62
437	60
438	37
439	42
440	74
441	28
442	21
443	76
444	7
445	24
446	70
447	18
448	40
449	11
450	81
451	41
452	9
453	73
454	62
455	12
456	66
457	81
458	9
459	3
460	74
461	62
462	11
463	6
464	56
465	16
466	34
467	20
468	78
469	79
470	1
471	97
472	17
473	39
474	87
475	15
476	12
477	77
478	94
479	28
480	22
481	66
482	45
483	59
484	39
485	2
486	6
487	52
488	6
489	72
490	49
491	17
492	92
493	15
494	86
495	18
496	92
497	79
498	67
499	20
500	22
501	72
502	10
503	72
504	3
505	52
506	26
507	77
508	78
509	41
510	97
511	36
512	59
513	88
514	24
515	57
516	12
517	38
518	90
519	53
520	14
521	38
522	67
523	2
524	36
525	44
526	93
527	99
528	10
529	41
530	49
531	3
532	16
533	7
534	63
535	32
536	11
537	15
538	81
539	12
540	91
541	39
542	62
543	19
544	83
545	6
546	91
547	28
548	19
549	80
550	38
551	23
552	63
553	31
554	71
555	14
556	58
557	8
558	21
559	71
560	21
561	21
562	81
563	38
564	26
565	32
566	29
567	82
568	52
569	28
570	72
571	54
572	97
573	41
574	65
575	96
576	75
577	1
578	48
579	28
580	80
581	66
582	25
583	47
584	49
585	29
586	87
587	51
588	12
589	50
590	70
591	36
592	60
593	81
594	29
595	77
596	76
597	55
598	25
599	40
600	45
601	83
602	91
603	26
604	72
605	99
606	12
607	47
608	11
609	20
610	27
611	52
612	9
613	98
614	17
615	99
616	27
617	37
618	62
619	25
620	3
621	15
622	73
623	66
624	22
625	5
626	85
627	5
628	20
629	98
630	20
631	38
632	62
633	78
634	21
635	16
636	59
637	28
638	98
639	38
640	31
641	2
642	40
643	46
644	87
645	14
646	48
647	33
648	80
649	48
650	36
651	27
652	56
653	21
654	1
655	50
656	83
657	3
658	61
659	92
660	20
661	52
662	16
663	50
664	10
665	86
666	9
667	98
668	39
669	56
670	25
671	50
672	42
673	39
674	91
675	81
676	56
677	25
678	70
679	44
680	24
681	15
682	99
683	4
684	20
685	55
686	12
687	98
688	27
689	65
690	20
691	77
692	97
693	76
694	36
695	42
696	87
697	6
698	11
699	79
700	65
701	16
702	65
703	44
704	13
705	90
706	13
707	48
708	79
709	13
710	95
711	60
712	19
713	55
714	24
715	66
716	4
717	53
718	11
719	23
720	68
721	14
722	97
723	53
724	45
725	14
726	16
727	93
728	18
729	29
730	83
731	5
732	6
733	77
734	19
735	70
736	97
737	34
738	20
739	70
740	52
741	11
742	74
743	14
744	72
745	10
746	36
747	44
748	33
749	45
750	19
751	38
752	36
753	77
754	5
755	37
756	51
757	1
758	55
759	17
760	2
761	48
762	23
763	18
764	2
765	34
766	90
767	97
768	24
769	30
770	51
771	66
772	33
773	70
774	51
775	37
776	31
777	51
778	37
779	65
780	55
781	18
782	8
783	66
784	4
785	65
786	62
787	26
788	93
789	29
790	88
791	3
792	75
793	73
794	24
795	23
796	67
797	1
798	13
799	68
800	7
801	36
802	87
803	62
804	48
805	1
806	31
807	45
808	28
809	62
810	86
811	24
812	98
813	1
814	59
815	49
816	37
817	26
818	62
819	36
820	44
821	66
822	18
823	17
824	97
825	92
826	40
827	36
828	65
829	80
830	84
831	5
832	84
833	6
834	79
835	87
836	36
837	31
838	96
839	15
840	71
841	96
842	2
843	72
844	11
845	81
846	95
847	94
848	41
849	54
850	31
851	58
852	25
853	74
854	24
855	51
856	81
857	38
858	32
859	73
860	22
861	96
862	40
863	62
864	22
865	59
866	74
867	39
868	25
869	86
870	2
871	55
872	20
873	61
874	40
875	37
876	88
877	69
878	1
879	60
880	42
881	18
882	31
883	54
884	13
885	27
886	19
887	93
888	34
889	41
890	99
891	33
892	89
893	20
894	16
895	52
896	84
897	32
898	94
899	31
900	6
901	61
902	25
903	1
904	61
905	1
906	38
907	78
908	87
909	39
910	31
911	39
912	26
913	68
914	42
915	36
916	2
917	94
918	66
919	2
920	67
921	30
922	80
923	2
924	95
925	65
926	40
927	54
928	50
929	33
930	11
931	23
932	97
933	89
934	1
935	31
936	56
937	9
938	35
939	49
940	92
941	55
942	23
943	84
944	48
945	91
946	20
947	7
948	72
949	25
950	55
951	3
952	85
953	3
954	16
955	40
956	90
957	22
958	99
959	44
960	38
961	86
962	98
963	11
964	76
965	26
966	76
967	13
968	82
969	80
970	24
971	93
972	4
973	15
974	64
975	95
976	58
977	15
978	85
979	25
980	57
981	29
982	66
983	3
984	66
985	19
986	98
987	57
988	24
989	44
990	59
991	35
992	76
993	48
994	31
995	92
996	33
997	94
998	68
999	56
1000	41
1001	45
1002	15
1003	46
1004	5
1005	68
1006	15
1007	65
1008	34
1009	73
1010	49
1011	68
1012	17
1013	78
1014	28
1015	80
1016	24
1017	59
1018	26
1019	74
1020	21
1021	52
1022	1
1023	94
1024	5
1025	61
1026	41
1027	88
1028	37
1029	56
1030	1
1031	49

; RX ---
1032	0

; value_in ---
1033	0

; prev_x ---
1034	21

; prev_y ---
1035	21

; prev_A ---
1036	1

; prev_B ---
1037	10

; prev_C ---
1038	1

; next_x ---
1039	0

; next_y ---
1040	0

; A ---
1041	0

; B ---
1042	0

; C ---
1043	0

; output ---
1044	0
